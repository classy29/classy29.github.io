<br>
<!DOCTYPE html>
<html>

<head>
  <title>idesign | Dhruv patel</title>
  <link rel="icon" type="image/jpg" href="css/download.jpg">
  <meta charset="UTF-8">
  <meta name="description" content="idesign Dhruv patel">
  <meta name="keywords" content="personal, portfolio">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="css/reset.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/animate.css" />
  <link rel="stylesheet" href="css/owl.carousel.css" />
  <link rel="stylesheet" href="css/magnific-popup.css" />
  <link rel="stylesheet" href="css/projectconcept.css" />
  <link rel="stylesheet" href="css/plugins.css">
  <script src="js/lib/modernizr-2.6.2.min.js"></script>




  <!-- Google Web fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">

  <style>
    body {

      font-family: 'CinzelRegular';
      font-weight: normal;
      font-style: normal;

    }
  </style>


  <!-- Font icons -->
  <link rel="stylesheet" href="icon-fonts/font-awesome-4.5.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="icon-fonts/essential-regular-fonts/essential-icons.css" />
  <link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Sans+Pro" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400&display=swap" rel="stylesheet">

  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

</head>

<body>

  <!-- HEADER -->
  <header id="header" style="padding-top: 100px; margin-top: -100px;">
    <!-- MOBILE MENU ICON -->
    <a href="#" class="mob-menu"><i class="fa fa-bars"></i></a>
    <!-- MENU -->

    <nav>

      <ul class="main-menu">
        <li><a href="..\index">Home</a></li>
        <li class="fab-work">
          <a href="#">Fab work</a>
          <ul>
            <li><a href="#">Week 1 to 5</a>
              <ul>
                <li><a href="week1">1.Project principal & Sketches</a></li>
                <li><a href="week2">2.Project management</a></li>
                <li><a href="week3">3.Computer Aided Design</a></li>
                <li><a href="week4">4.Computer controlled cutting</a></li>
                <li><a href="week5">5.Electronics Production</a></li>
              </ul>
            </li>
            <li><a href="#">Week 6 to 10</a>
              <ul>
                <li><a href="week6">6.3D Scanning and Printing</a></li>
                <li><a href="week7">7.Electronics Design</a></li>
                <li><a href="week8">8.Computer controlled machine</a></li>
                <li><a href="week9">9.Embedded programming</a></li>
                <li><a href="week10">10.Molding and casting</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Week 11 to 15</a>
              <ul>
                <li><a href="week11">11.Input devices</a></li>
                <li><a href="week12">12.Output devices</a></li>
                <li><a href="week13">13.Applications and Implications</a></li>
                <li><a href="week14">14.Networking and communications</a></li>
                <li><a href="week15">15.Mechanical design</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Week 16 to 20</a>
              <ul>
                <li><a href="week16">16.interface and application programming</a></li>
                <li><a href="week17">17.Machine design</a></li>
                <li><a href="week18">18.Wildcard week</a></li>
                <li><a href="week19">19.invention, intellectual property and income</a></li>
                <li><a href="projectd">Project development</a></li>
              </ul>
            </li>
            <li>
              <a href="..\agreement">Agreement</a>
            </li>
          </ul>
        </li>
        <li class="project-work">
          <a href="#">project</a>
          <ul>
            <li><a href="project">Final Project proposal</a></li>
            <li><a href="projectd">Project development</a></li>
            <li><a href="finalproject">Final Project</a></li>

          </ul>
        </li>
        <li>
          <a href="..\about">about</a>
        </li>
      </ul>
      <h1>Input devices</h1>
    </nav>
  </header>
  <!-- <div class="anchors" id="listj">
    <h3>Original files for code</h3>
    <ul>
      <li>
        <a href="images/week11/humidity/humidity.ino" target="_blank" download>Humidity code</a>
      </li>
      <li>
        <a href="images/week11/joystick/joystick.ino" target="_blank" download>joystick code</a>
      </li>
      <li>
        <a href="images/week11/ultrasonicsimple/ultrasonicsimple.ino" target="_blank" download>ultrasonicsimple code</a>
      </li>
      <h3>Board Files</h3>
      <li>
        <a href="images/week11/finalboard/schematics.brd" target="_blank" download>Board diagram</a>
      </li>
      <li>
        <a href="images/week11/finalboard/schematics.sch" target="_blank" download>schematic of board </a>
      </li>
      <li>
        <a href="images/week11/finalboard/traces.png" target="_blank" download>Trace file</a>
      </li>
      <li>
        <a href="images/week11/finalboard/border.png" target="_blank" download>Border file</a>
      </li>
      <li>
        <a href="images/week11/finalboard/drillholes.png" target="_blank" download>Drill file </a>
      </li>

    </ul>
  </div> -->


  <div class="projectconcept">

    <div class="week2p">
      <h2>Week 11 : Assignment</h2><br />
      <div class="listp">
        <ul>
          <li>measure something: add a sensor to a microcontroller board
            that you have designed and read it
          </li>
        </ul>
      </div>
      <p>
        So this week we are going to use input devices, input devices as the name suggests used to take <a><b>Data from the User</b></a>, unlike output devices which will be used to <a><b>Give something in Action</b></a> to the user.<br /><br />
        I tried 3 Sensors for Input device week.
      </p>
      <div class="listp">
        <ul>
          <li>
            Humidity sensor - to take measurement of Temperature and Humidity of surrounding
          </li>
          <li>
            Ultrasonic Sensor - To take measurements of Distance
          </li>
          <li>
            Joystick - for give input in X and Y position
          </li>
        </ul>
      </div>

      <h1>
        Humidity sensor
      </h1>
      <p>
        A <a><b>humidity sensor</b></a> (or hygrometer) senses, measures, and reports both moisture and air temperature. The <a><b>ratio of moisture</b></a> in the air to the highest amount of moisture at a particular air temperature is called
        relative humidity. Relative humidity becomes an important factor when looking for comfort.
        <br /><br />
        I try to work with a humidity sensor with my <a href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week9" target="_blank"><b>week 9</b></a> board. I have connected my echo hello board with the <a><b>FTDI
            serial port</b></a> and my humidity sensor is connected to <a><b>miso</b></a> pin of the header which is an analog pin of the microcontroller. I am sending data through FTDI cable using a <a
          href="https://robu.in/product/pl2303-pl2303hx-usb-ttl-module-5-pin/?gclid=EAIaIQobChMIvYi3wMbA4QIVlIWPCh2p2AsUEAYYASABEgLrJPD_BwE" target="_blank"><b>TTL convertor</b></a>. <br /><br />First I program my board, I used header pins for that,
        initially, I used header pins to program my board and then I used them as <a><b>I/O pins</b></a>, (I used miso as i/o pin) <a href="https://www.arduino.cc/reference/en/language/functions/analog-io/analogread/" target="_blank" <a><b>Analog
            read command</b></a>. you can see the programming of echo hello board in <a href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/Fab work/week9"><b>week 9</b></a>.
      </p>
      <img src="images/week11/1.jpg" alt="" />
      <p class="step">
        Code for humidity Sensor.
      </p>
      <p>
        <a href="images/week11/humidity.ino"><b> Click here</b></a> to get the original file. <a href="https://www.arduinolibraries.info/libraries/dht-sensor-library" target="_blank"><b>Click here</b></a> to get DHT library
        Code is explained in the comments.
      <p>
      <pre>
<code>
/* this code will help you get the data of temperatures and humidity on serial monitor*/


#include &ltdht.h&gt

// dht library for humidity sensor

#define dht_apin A5 // Analog Pin sensor is connected to

dht DHT;

void setup(){

  Serial.begin(9600);
  delay(500);//Delay to let system boot
  Serial.println("DHT11 Humidity & temperature Sensor\n\n");
  delay(1000);//Wait before accessing Sensor

}//end "setup()"

void loop(){
  //Start of Program

    DHT.read11(dht_apin); // reading values from DHT sensor

    Serial.print("Current humidity = ");
    Serial.print(DHT.humidity); // VALUES WILL BE PRINTED
    Serial.print("%  ");
    Serial.print("temperature = ");
    Serial.print(DHT.temperature);
    Serial.println("C  ");

    delay(5000);//Wait 5 seconds before accessing sensor again.

    //Fastest should be once every two seconds.

}// end loop</code>
            </pre>
      </p>



      <img src="images/week11/2.png" alt="" />

      <p class="step">
        I used wet handkerchief to change humidity of sensor
      </p>
      <img src="images/week11/3.gif" alt="" />
      <p class="step">
        Tempreture and humidity in Serial monitor
      </p>
      <p>
        you can find serial monitor on tools <a><b>Tools</b></a> on the menu bar of Arduino-<a><b>ide</b></a>. This feature can help us to find whether the <a><b>Board is can communicate with pc or not and help us to keep track of data</b></a>.
        here I am using a serial monitor to print the data onboard, so I can get real-time updates, but another good <a><b>Feature</b></a> is a Serial plotter, which represents the data in graphically, it helps to find out the relative change between
        values in time intervals. you can find serial plotter on the <a><b>tools menu</b></a>.
      </p>
      <img src="images/week11/4.gif" alt="" />
      <p class="step">
        Tempreture and humidity in plotter
      </p>
      <p>

        Here the blue line is the humidity line, which continuously changing when because we are surrounding it a wet handkerchief. but temperatures variations are not as quick as humidity.
      </p>
      <img src="images/week11/5.gif" alt="" />

      <h1>Ultrasonic sensor</h1>
      <p>
        I tried ultrasonic sensor to use distance as a parameter. If something is <a><b>Under</b></a> 50 <a><b>cm </b></a> range led will start blinking. If one using ultrasonic sensor, they may have to download <a><b>library</b></a> for that. you
        can download library from <a href="https://github.com/ErickSimoes/Ultrasonic" target="_blank"><b>here</b></a>.
        <br /><br />
        download in Zip file and then include it in <a><b>IDE</b></a>. you have to use these <a><b>libraries</b></a> to operate the sensor properly. (my board was not detecting sensor until I include library).
      </p>
      <img src="images/week11/5.jpg" alt="" />


      <p class="step">
        Code
      </p>
      <p>
        Click Here is the <a><b>code</b></a>. <a href="images/week11/ultrasonicsimple.ino" target="_blank" download><b>Click</b></a> to get original files.
        <br /><br />
        Here I used pin <a><b>(0,1) (Arduino pins)</b></a> or <A><b>PA1 and PA0</b></A> of echo hello board as communication pins ( <a><b>TX</b></a>, <a><b>RX</b></a> ) and <a><b>A5(5)</b></a> and <a><b>A4(4)</b></a> for the trigger pin and echo pin
        of ultrasonic.
      </p>
      <img src="images/week11/6.png" alt="" />
      <br /><br />
      <pre>
<code>
  /* this code will help to print the distance from the data to serial monitor, readings will be taken by ultrasonic sensor*/


  #include &ltUltrasonic.h&gt
  // ULTRASONIC LIBRARY

  #include &ltSoftwareSerial.h&gt
  // include SOFTWERE SERIAL library above, with software serial any two I/O pins can be run as Rx, Tx

  SoftwareSerial mySerial(0, 1); // RX, TX // to send and receive the data to serial port(Monitor)
  Ultrasonic ultrasonic(A5, A4); // ultrasonic pins defined ( triger(5) and echo(4)), echo pin will send sound waves and triger will receive sound signals

  int distance; // defining variable

  void setup()
  {
   pinMode(2,OUTPUT);
    mySerial.begin(9600);
  }

  void loop() {
    // Pass INC as a parameter to get the distance in inches
    distance = ultrasonic.read(); // reading values

    mySerial.print("Distance in CM: ");
    mySerial.println(distance); // printing distance on serial
    delay(1000);

    // if else condition, if condition is fulfilled then, led will High, if no it will be low.
    if(distance <= 50)
    {
      digitalWrite(2,HIGH);
    }
    else
    {
      digitalWrite(2,LOW);
    }
  }
</code>
</pre>
      </p>
      <iframe width="640" height="360" src="https://www.youtube.com/embed/PutPQ-YKHkg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

      <h1>Final project Board</h1>
      <p>
        This week I also started designing my final project board. I was going to use an <a><b>ATmega328p microcontroller</b></a> for my final project. it is a very <a><b>powerful</b></a> microcontroller with 32 kb <a
          href="https://simple.wikipedia.org/wiki/Flash_memory" target="_blank"><b>Flash memory</b></v></a>, much more than <a><b>ATtiny44</b></a> which Constrains only 4 kb of <a><b>ISP Flash memory</b></a>. you can read about these terms in <a
          href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week9" target="_blank"><b>week9</b></a>. besides memory, I found many things that bring my interest in ATmega328p.
      </p><br />
      <p><a><b>Key points about ATmega328p</b></a></p>
      <pre>
<code>
<li>Programming and communication flexibility:

1-UART (Universal Asynchronous receiver and Transceiver) programming, 2-SPi(serial Peripheral interface), 1-I2c communication </li>
<li>I/O ports - 32 general purpose pins (Working registers)</li>
<li>Internal clock - 8Mhz</li>
<li>CPU speed - 20 MIPS</li>
<li>PWM pins - 6</li></code>
</pre>
      <p class="step">Programming and communication flexibility :</p>
      <p>
        the key thing I want to shift to the <a><b>ATTin328p</b></a> is increasing programming flexibility of mine, back at <a><b>Attiny44</b></a> I used only serial interface with <a
          href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week5" target="_blank"><b>FABtinyisp</b></a> which was pretty good but the way I am understanding this thing I think, every time I have to carry fab isp
        when I am programming I will not have cable(UART) like <a href="https://store.arduino.cc/usa/arduino-uno-rev3" target="_blank"><b>Arduino Uno</b></a>
        <br /><br />
        I can have that type of flexibility with ATmega328p, reason I can't use this UART ports directly is ATTIny is not supporting UART Programming directly or built-in. Attiny 44 needs will need a serial interface that can talk to the master or
        program if the user wants to program it with UART. but These microcontrollers do not have Hardware serial support, no (Tx, Rx) built-in, <a href="https://www.arduino.cc/en/Reference/SoftwareSerial" target="_blank"><b>Software Serial</b></a>
        may help but in most of the cases when I tried to use that on input week it was causing memory issue, One can get the data from Attiny44 using <a href="https://en.wikipedia.org/wiki/Neil_Gershenfeld"><b>Neil's </b></a>bit banging code. <a
          href="http://academy.cba.mit.edu/classes/input_devices/index" track="_blank"><b>Click here for Code links</b></a><br /><br />
        <a>thought this is based on my experience and people which help me to understand these things, maybe some special methods that can solve this problem</a><br /><br />
      </p>
      <p class="step">I/O ports - 32 general purpose pins(Working registers)</p>
      <p>
        In the final project, I will probably use 3 or 4 <a><b>Input/output</b></a> sensors or may need to communicate with other boards, for these things 328p will be great.
      </p>



      <h1>Final Board Design</h1>
      <p>
        Yet my final board mechanism was not sorted out I was confused about servo and Dc motors which one I should use in the final project. but we had many Dc motors at labs so I thought using dc for initial testing will be a good idea, so I
        decided to use <a href="http://www.ti.com/product/L293D" target="_blank"><b>L293d Drivers</b></a>. and prepared my schematic in <a href="https://www.autodesk.com/products/eagle/overview" target="_blank"><b>EAGLE</b></a>. you can see PCB
        making in detail in <a href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week7"><b>WEEk 7</b></a>.
      </p>
      <p class="step">Schematic</p>
      <img src="images/week11/finalboard/1.png" alt="" /><bR /><br />
      <p class="step">Requirements</p>
      <pre>
<code>
<li>one <a><b>10k</b></a> pullup resistors</li> - one at Reset and Vcc for keeping reset pin High<br />
<li>three <a><b>100nf</b></a> Filter Capacitors</li> - two At pin number 4 an 5 (Vccs) of microcontroller and one between DTR(RTS) and Reset (of FTDI pins).<br />
<li> one <a><b>16MHz</b></a> external crystal</li> - between XTAL1 and XTAL2<br />
<li> TWO <a><b>22 pf</b></a></li> - for two ground pins of crystal<br />
<li> two <a><b>499</b></a> resistor</li> - for leds (Power,SCk)<br />
<li> <a><b>ISP</b></a>, <a><b>UART</b></a>, <a><b>i2c</b></a> header pins</li> - For programming and communication<br /></code>
</pre>
      <p class="step">i/O pins</p>
      <pre>
<code>
<li>Ultrasonic sensor</li>
<li>Motor Driver L2393D</li>
<li>LCD Module Pins</li>
<li>Extra pins</li> - I tried to use all the pins of microcontroller  in case if I needed extra ones
</code>
</pre>
      <p class="step">Board</p>
      <img src="images/week11/finalboard/2.png" alt="" />

      <p class="step">
        Milling And Soldering
      </p>
      <p>
        One can know more about the milling and soldering process in <a href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week5" target="_blank"><b>Week5</b></a>.
      </p>
      <img src="images/week11/finalboard/2b.jpg" alt="" />
      <img src="images/week11/finalboard/2a.jpg" alt="" />
      <img src="images/week11/finalboard/3.jpg" alt="" />
      <img src="images/week11/finalboard/4.jpg" alt="" /><br /><br />
      <h1>Programming</h1>
      <p>
        <a>I kept the L293D part unsolder for now! it was not available at the lab, I have to buy that.</a>
      </p>
      <img src="images/week11/finalboard/5.jpg" alt="" /><br /><br />
      <p class="step">Joystick as input Device</p>
      <p>
        In the 328p board, I tried to get data from the joystick module. I will get positions on the X-axis, Y-axis, and Switch.
      </p>
      <img src="images/week11/finalboard/6.jpg" alt="" />


      <p class="step">
        Connections
      </p>
      <p>
        I connected the x and y-axis pins to analog pins and switch to digital pins.
      </p>
      <pre><a><b>Vrx : A0</b></a></pre>
      <pre><a><b>VRy : A1</b></a></pre>
      <pre><a><b>SW : 8</b></a></pre>
      <img src="images/week11/finalboard/8.jpg" alt="" />
      <p class="step">
        Code
      </p>
      <P>
        The below code will help to get the data from the joystick module of the <a><b>X and Y</b></a> axis and <a><b>Switch</b></a>. with code require explanation is given.
      </P>
      <pre>
<code>
  /* this code will help to get the x and y axis data from joystick, I have maped the readings in specific region



  int VRx = A0; // variable VRx for x direction readings
  int VRy = A1; // variable for VRy direction readings
  int SW = 8; // for switch


  // initialy kept zero


  int xPosition = 0;
  int yPosition = 0;
  int SW_state = 0;
  int mapX = 0;
  int mapY = 0;

  void setup() {
    Serial.begin(9600);

    pinMode(VRx, INPUT);
    pinMode(VRy, INPUT);
    pinMode(SW, INPUT_PULLUP);

  }

  void loop() {
    xPosition = analogRead(VRx);
    yPosition = analogRead(VRy);
    SW_state = digitalRead(SW);

   // map function helps to change the analog read values in desirable way
   // in default it will give values between 0 and 1023, but for joystick I may prefer values between the (-512,512),
   // it helps me to convert the range

  // example
  // mapX = map(variable,fromlower,fromhigh, tolower, tohigh)
  // 0 converted into -512
  // 1023 converted into 512

    mapX = map(xPosition, 0, 1023, -512, 512);
    mapY = map(yPosition, 0, 1023, -512, 512);

    //  for printing the values in serial

    Serial.print("X: ");
    Serial.print(mapX);
    Serial.print(" | Y: ");
    Serial.print(mapY);
    Serial.print(" | Button: ");
    Serial.println(SW_state);

    delay(100);
  }
</code>
</pre>
      <p class="step">
        In Arduino ide
      </p>
      <p>
        Below is code I am going to run through <a><b>Arduino-ide</b></a>. you can check week9 to know how to program with arduino-ide.<br /><br />Visit <a href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week7"
          target="_blank"><b>week 7</b></a> and <a href="http://fabacademy.org/2019/labs/cept/students/dhruv-prakashbhaipatel/assignments/week5#programming" target="_blank"><b>week 5</b></a> for more information about IDE.
      </p>
      <img src="images/week11/finalboard/7.png" alt="" />
      <h1>Reading the Data</h1>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/wn8KkTadzdc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>



      <h1>Group work</h1>
      <p>
        our group work was to Probing Sensor Data with an Oscilloscope, we tried Quadrature Encoders. In this group work, there was not much to separate so we did it together.<bR /><br />

        we tried to probe the Quadrature Encoders with Oscilloscope. so there are two channels in the Oscilloscope and bot connected with encodes output, encodes generates square pulses, in both channels pulses will be generated and it can be seen in
        the display of Oscilloscope.
        <br /><br />
        <a href="http://fab.academany.org/2019/labs/cept/inputdevices" target="_blank"><b>Click here</b></a> to redirect on group work.
      </p>

      <iframe width="560" height="315" src="https://www.youtube.com/embed/7Scmh9DUa5Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

      <h1>Conclusion</h1>
      <p>
        This week all I do is exploring the different <a><b>sensors</b></a> and try to understand their working, I <a><b>milled</b></a> a new 328p board, got to know more about communications in 328p board which I will explore more ahead!
      </p>
    </div>
  </div>

</body>
<footer>
  <section class="footer-content">

    <ul class="main-menu-blog-footer-tabs">
      <li><a href="https://www.linkedin.com/in/dhruv-patel-485a53134/">Portfolio</a></li>
      <li><a href="https://github.com/idesign0">Robotics</a></li>
      <li><a href="../assignments">Fab Academy</a></li>
      <li><a href="../about">About</a></li>
      <li><a href="../contact">Contact</a></li>
    </ul>
    <!-- <h3 class=footer-h3>Social MEdia</h3> -->
    <ul class="main-menu-blog-footer-sm">
      <li><a href="https://www.instagram.com/classy_29/" target="_blank"><img src="images/sm/instagram.svg" alt="" /></a></li>
      <li><a href="https://www.linkedin.com/in/dhruv-patel-485a53134/" target="_blank"><img src="images/sm/linkedin.svg" alt="" /></a></li>
      <li><a href="https://github.com/idesign0" target="_blank"><img src="images/sm/github.svg" alt="" /></a></li>

    </ul>
  </section>

</footer>

</html>
